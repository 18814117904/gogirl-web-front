webpackJsonp([13,35],{"/QYO":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"produce_detail.vue",sourceRoot:""}])},"/ylB":function(n,t,e){var a=e("1Ghu");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("71083c62",a,!1,{})},"1Ghu":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"produce_index.vue",sourceRoot:""}])},"9rxM":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("tsVr"),e("aqZO"),e("Mn0N");var a=e("GHbb"),s=e("gR7F"),i={name:"produce_index",data:function(){return{produces:[],selectedPlan:[],produceTypes:[],produceTypeSelected:"",produceLabels:[],produceLabelSelected:"",sortOrder:"",pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},usercode:this.$parent.usercode,nodetail:"",isDoubleClick:!1,produceNameForSearch:""}},filters:{formatStatus:function(n){return null==n.serveName||0==n.status?"下线":1==n.status?"上线":void 0}},mounted:function(){this.getAllPurchasingPlan(this.pageInfo.pageNum),this.reChooseServeLabel(),this.reChooseServeType()},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.search(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.search(this.pageInfo.pageNum)},modifyStatus:function(n,t,e){if(null!=e){var a=void 0;0==t?a=1:1==t&&(a=0);var s=this.$BASE_URL+"produce/modifyProduce/",i=this.$axios.create({}),r=this.$qs.stringify({id:n,status:a});i.post(s,r).then(function(n){this.$layer.msg(n.data.message),this.search(this.pageInfo.pageNum)}.bind(this))}else this.$layer.msg("不能改变状态，本款式不属于任何服务")},detail:function(n){this.$router.push({name:"produce_modify",params:{nodetail:n}}),this.nodetail=n},typemanage:function(){this.$layer.iframe({content:{content:a.default,parent:this,data:{}},area:["800px","600px"],title:"分类管理"})},labelmanage:function(){this.$layer.iframe({content:{content:s.default,parent:this,data:{}},area:["800px","600px"],title:"标签管理"})},getAllPurchasingPlan:function(n){var t=this.$BASE_URL+"produce/queryProduceForPage/";this.$axios.create({}).get(t,{params:{pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){this.produces=n.data.data.list,this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},top:function(n){var t=this.$BASE_URL+"produce/topProduce/",e=this.$axios.create({}),a=this.$qs.stringify({id:n});e.post(t,a).then(function(n){this.$layer.msg(n.data.message),this.search(this.pageInfo.pageNum)}.bind(this))},create:function(){this.$router.push({path:"/produce/add"})},search:function(n){this.produceNameForSearch=this.produceNameForSearch.replace(/(^\s*)|(\s*$)/g,""),""===this.produceNameForSearch&&""===this.sortOrder?this.getAllPurchasingPlan(n):this.doSearch(n)},doSearch:function(n){var t=this.$axios.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),e=this.$qs.stringify({name:this.produceNameForSearch,sortOrder:this.sortOrder,pageNum:n,pageSize:6});t.post(this.$BASE_URL+"produce/queryProduceForPage/",e).then(function(n){this.produces=n.data.data.list,this.pageInfo=n.data.data}.bind(this))},reChooseServeLabel:function(){this.$axios.create({}).get(this.$BASE_URL+"label/queryLabel",{params:{}}).then(function(n){this.produceLabels=n.data.data}.bind(this))},reChooseServeType:function(){this.$axios.create({}).get(this.$BASE_URL+"type/queryType",{params:{}}).then(function(n){this.produceTypes=n.data.data}.bind(this))},deleteProduce:function(n){var t=this;this.$confirm("此操作将永久删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.create({}).get(t.$BASE_URL+"produce/deleteProdecu",{params:{id:n}}).then(function(n){1==n.data.success&&(this.search(this.pageInfo.pageNum),this.$message({type:"success",message:"删除成功!"}))}.bind(t))}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},r=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox float-e-margins"},[n._m(0),n._v(" "),e("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox-content m-b-sm",staticStyle:{display:"block","margin-bottom":"10px"}},[e("form",{attrs:{id:"toolbar",novalidate:"novalidate"}},[e("div",{staticClass:"form-inline search-form"},[e("div",{staticClass:"form-group",staticStyle:{"margin-left":"10px"}},[e("label",[n._v("款式名称")]),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.produceNameForSearch,expression:"produceNameForSearch"}],staticClass:"form-control",attrs:{placeholder:"款式名称",type:"text"},domProps:{value:n.produceNameForSearch},on:{input:function(t){t.target.composing||(n.produceNameForSearch=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form-group",staticStyle:{"margin-left":"10px"}},[e("label",[n._v("排序方式")]),n._v(" "),e("el-select",{staticStyle:{"max-width":"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:n.sortOrder,callback:function(t){n.sortOrder=t},expression:"sortOrder"}},[e("el-option",{attrs:{label:"时间",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"置顶",value:"2"}})],1)],1),n._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(t){n.search(1)}}},[e("i",{staticClass:"fa fa-search"}),n._v(" 搜索\n                    ")]),n._v(" "),e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:n.create}},[e("i",{staticClass:"fa fa-plus"}),n._v(" 新增款式\n                    ")]),n._v(" "),e("button",{staticClass:"btn btn-sm btn-info",attrs:{type:"button"},on:{click:n.typemanage}},[e("i",{staticClass:"fa fa-paste"}),n._v(" 分类管理\n                    ")])])])])]),n._v(" "),e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"bootstrap-table"},[n._m(1),n._v(" "),e("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(2),n._v(" "),e("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(3),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.produces,stripe:""}},[e("el-table-column",{attrs:{prop:"picturePath",label:"图案",width:"180"},scopedSlots:n._u([{key:"default",fn:function(t){return n._l(t.row.picturePath.split(","),function(a){return e("div",{on:{click:function(e){n.detail(t.row.id)}}},[e("img",{staticStyle:{height:"35px",width:"35px"},attrs:{src:n.$BASE_PICTUREPATH_URL+a}})])})}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"name",label:"名称",width:"180",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.name)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"serveName",label:"所属服务",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.serveName)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"remark",label:"描述",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.remark)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"status",label:"上架",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("div",{on:{click:function(e){n.modifyStatus(t.row.id,t.row.status,t.row.serveName)}}},[0==t.row.status||null==t.row.serveName?e("span",[e("i",{staticClass:"el-icon-close",staticStyle:{color:"red"}})]):e("span",[e("i",{staticClass:"el-icon-check",staticStyle:{color:"#00b4aa"}})])])]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button-group",[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){n.top(t.row.id)}}},[n._v("置顶")]),n._v(" "),e("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){n.detail(t.row.id)}}},[n._v("修改")]),n._v(" "),e("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){n.deleteProduce(t.row.id)}}},[n._v("删除")])],1)]}}])})],1)],1),n._v(" "),n._m(4),n._v(" "),e("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),e("div",{staticClass:"clearfix"})])])])])])])])};r._withStripped=!0;var o={render:r,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"ibox-title"},[t("h5",[this._v("款式列表")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},c=o;var l=!1;var u=e("VU/8")(i,c,!1,function(n){l||e("/ylB")},"data-v-48a3bd77",null);u.options.__file="src\\components\\produce\\produce_index.vue";t.default=u.exports},tauj:function(n,t,e){var a=e("/QYO");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("683ebf32",a,!1,{})},tsVr:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("mw3O");var a=function(){var n=this.$createElement;return(this._self._c||n)("div")};a._withStripped=!0;var s={render:a,staticRenderFns:[]},i=s;var r=!1;var o=e("VU/8")({name:""},i,!1,function(n){r||e("tauj")},"data-v-642700fc",null);o.options.__file="src\\components\\produce\\produce_detail.vue";t.default=o.exports}});
//# sourceMappingURL=13.523093f6a72c532e36c6.1565068078403.js.map