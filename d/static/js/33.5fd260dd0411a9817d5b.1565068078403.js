webpackJsonp([33],{"1XLp":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"store_index.vue",sourceRoot:""}])},mJDf:function(n,t,e){var a=e("1XLp");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("4324fa16",a,!1,{})},t6le:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("jgNt"),e("dCRi");var a={name:"store_index",data:function(){return{stores:[],pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},usercode:this.$parent.usercode,nodetail:"",isDoubleClick:!1,titlesearch:""}},mounted:function(){this.getAllPurchasingPlan(this.pageInfo.pageNum)},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.search(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.search(this.pageInfo.pageNum)},detail:function(n){this.$router.push({name:"store_modify",params:{nodetail:n}}),this.nodetail=n},getAllPurchasingPlan:function(n){var t=this.$BASE_STORE_URL+"shop/queryShopForPage/";this.$axios.create({}).get(t,{params:{pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){this.stores=n.data.data.list,this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},create:function(){this.$router.push({path:"/store/add"})},search:function(n){this.titlesearch=this.titlesearch.replace(/(^\s*)|(\s*$)/g,""),""===this.titlesearch?this.getAllPurchasingPlan(n):this.doSearch(n)},doSearch:function(n){var t=this.$axios.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),e=this.$qs.stringify({name:this.titlesearch,pageNum:n,pageSize:6});t.post(this.$BASE_STORE_URL+"shop/queryShopForPage/",e).then(function(n){this.stores=n.data.data.list,this.pageInfo=n.data.data}.bind(this))},deleteStore:function(n){var t=this;this.$confirm("此操作将永久删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.create({}).get(t.$BASE_STORE_URL+"shop/deleteShopManageById",{params:{id:n}}).then(function(n){1==n.data.success&&(this.getAllPurchasingPlan(this.pageInfo.pageNum),this.$message({type:"success",message:"删除成功!"}))}.bind(t))}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox float-e-margins"},[n._m(0),n._v(" "),e("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox-content m-b-sm",staticStyle:{display:"block","margin-bottom":"10px"}},[e("form",{attrs:{id:"toolbar",novalidate:"novalidate"}},[e("div",{staticClass:"form-inline search-form"},[e("div",{staticClass:"form-group",staticStyle:{"margin-left":"10px"}},[e("label",[n._v("店铺名称")]),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.titlesearch,expression:"titlesearch"}],staticClass:"form-control",attrs:{placeholder:"店铺名称",type:"text"},domProps:{value:n.titlesearch},on:{input:function(t){t.target.composing||(n.titlesearch=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(t){n.search(1)}}},[e("i",{staticClass:"fa fa-search"}),n._v(" 搜索\n                    ")]),n._v(" "),e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:n.create}},[e("i",{staticClass:"fa fa-plus"}),n._v(" 新增店铺\n                    ")])])])])]),n._v(" "),e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"bootstrap-table"},[n._m(1),n._v(" "),e("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(2),n._v(" "),e("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(3),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.stores,stripe:""}},[e("el-table-column",{attrs:{prop:"logo",label:"logo"},scopedSlots:n._u([{key:"default",fn:function(t){return n._l(t.row.logo.split(","),function(a){return e("div",{on:{click:function(e){n.detail(t.row.id)}}},[e("img",{staticStyle:{height:"35px",width:"35px"},attrs:{src:n.$BASE_PICTUREPATH_URL+a}})])})}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.name)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"storeNo",label:"店铺编号",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.storeNo)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"longitude",label:"经度",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.longitude)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"latitude",label:"纬度",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.latitude)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"address",label:"地址",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.address)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"master",label:"店长",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.master)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"customerServiceTelphone",label:"客服电话",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.customerServiceTelphone)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.remark)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button-group",[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){n.detail(t.row.id)}}},[n._v("修改")]),n._v(" "),e("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){n.deleteStore(t.row.id)}}},[n._v("删除")])],1)]}}])})],1)],1),n._v(" "),n._m(4),n._v(" "),e("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),e("div",{staticClass:"clearfix"})])])])])])])])};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"ibox-title"},[t("h5",[this._v("店铺管理")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},o=i;var l=!1;var r=e("VU/8")(a,o,!1,function(n){l||e("mJDf")},"data-v-6fb0298e",null);r.options.__file="src\\components\\store\\store_index.vue";t.default=r.exports}});
//# sourceMappingURL=33.5fd260dd0411a9817d5b.1565068078403.js.map