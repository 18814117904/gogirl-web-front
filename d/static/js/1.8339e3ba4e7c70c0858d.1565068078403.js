webpackJsonp([1,16,18,29,45],{"0+1f":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{uploader:e("ofQP").default},name:"storeuser_new",data:function(){return{stores:[],selectStore:"",activity:{name:"",startTime:"",endTime:"",prize:"",conditionUse:"",status:""},hadSave:!1,rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"}],startTime:[{required:!0,message:"请选择 开始时间"}],endTime:[{required:!0,message:"请选择 结束时间"}],status:[{required:!0,message:"请选择 状态"}],prize:[{required:!0,message:"请输入活动奖品",trigger:"blur"}],conditionUse:[{required:!0,message:"请输入使用条件",trigger:"blur"}]}}},mounted:function(){},methods:{getUser:function(n){if(5==n)this.activity.conditionUse=["1","2","3","4"];else for(var t=0;t<n.length;t++)if(5==n[t]){n.splice(t,1);break}},save:function(){var n=this;this.activity.startTime;this.$refs.activity.validate(function(t){if(!t)return!1;n.hadSave=!0;var e=n.$axios.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=n.$qs.stringify({name:n.activity.name,startTime:n.activity.startTime,endTime:n.activity.endTime,prize:n.activity.prize,conditionUse:n.activity.conditionUse.join(","),status:n.activity.status});e.post(n.$BASE_STORE_URL+"activity/addActivity",a).then(function(n){this.$layer.msg(n.data.message),this.$emit("childClick")}.bind(n))})}}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{attrs:{id:"updatePi"}},[e("el-form",{ref:"activity",attrs:{model:n.activity,rules:n.rules,"label-width":"100px"}},[e("div",{staticStyle:{"margin-bottom":"5px"}},[e("div",{staticClass:"fixed-table-container bootstrap-table"},[e("table",{staticClass:"table table-hover"},[e("tbody",[e("tr",[e("td",[e("el-form-item",{attrs:{label:"活动名称:",prop:"name"}},[e("span",[e("el-input",{staticStyle:{"max-width":"100%"},attrs:{placeholder:"请输入活动名称",required:""},model:{value:n.activity.name,callback:function(t){n.$set(n.activity,"name",t)},expression:"activity.name"}})],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"活动奖品:",prop:"prize"}},[e("span",[e("el-input",{staticStyle:{"max-width":"100%"},attrs:{placeholder:"请输入 活动奖品"},model:{value:n.activity.prize,callback:function(t){n.$set(n.activity,"prize",t)},expression:"activity.prize"}})],1)])],1)]),n._v(" "),e("tr",[e("td",[e("el-form-item",{attrs:{label:"开始时间:",prop:"startTime"}},[e("span",[e("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期时间"},model:{value:n.activity.startTime,callback:function(t){n.$set(n.activity,"startTime",t)},expression:"activity.startTime"}})],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"结束时间:",prop:"endTime"}},[e("span",[e("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束日期时间"},model:{value:n.activity.endTime,callback:function(t){n.$set(n.activity,"endTime",t)},expression:"activity.endTime"}})],1)])],1)]),n._v(" "),e("tr",[e("td",[e("el-form-item",{attrs:{label:"活动对象:",prop:"conditionUse"}},[e("span",[e("el-select",{staticStyle:{"max-width":"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择 活动对象"},on:{change:function(t){n.getUser(n.activity.conditionUse)}},model:{value:n.activity.conditionUse,callback:function(t){n.$set(n.activity,"conditionUse",t)},expression:"activity.conditionUse"}},[e("el-option",{attrs:{label:"所有用户",value:"5"}}),n._v(" "),e("el-option",{attrs:{label:"客户",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"会员",value:"2"}}),n._v(" "),e("el-option",{attrs:{label:"微信用户",value:"3"}}),n._v(" "),e("el-option",{attrs:{label:"公众号粉丝",value:"4"}})],1)],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"活动状态:",prop:"status"}},[e("span",[e("el-select",{staticStyle:{"max-width":"100%"},attrs:{filterable:"",placeholder:"请选择 活动状态"},model:{value:n.activity.status,callback:function(t){n.$set(n.activity,"status",t)},expression:"activity.status"}},[e("el-option",{attrs:{label:"开启",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"关闭",value:"2"}})],1)],1)])],1)]),n._v(" "),e("tr",[e("td"),e("td"),e("td"),e("td")])])])])])])],1),n._v(" "),e("div",{staticStyle:{margin:"10px auto"}},[e("div",{staticStyle:{margin:"0 auto",width:"20%"}},[e("el-button",{attrs:{type:"primary",plain:"",disabled:n.hadSave},on:{click:n.save}},[n._v("保存")])],1)])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]},s=r;var l=!1;var o=e("VU/8")(a,s,!1,function(n){l||e("EinV")},"data-v-457aefdd",null);o.options.__file="src\\components\\activity\\activity_new.vue";t.default=o.exports},"3mzM":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"activety_summary",props:["activityUserDetailIndex"],components:{},data:function(){return{activityUserDetail:[],pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},nodetail:""}},mounted:function(){this.getAllPurchasingPlan(this.pageInfo.pageNum)},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},getAllPurchasingPlan:function(n){var t=this.$BASE_STORE_URL+"activityCustomer/queryActivityCustomerForPage";this.$axios.create({}).get(t,{params:{pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){n.data.data.list.forEach(function(n,t){null!=n.customer.storeRecordRealName&&""!=n.customer.storeRecordRealName||(null==n.customer.realName||""==n.customer.realName?n.customer.storeRecordRealName=n.customer.nickname:n.customer.storeRecordRealName=n.customer.realName)}),this.activityUserDetail=n.data.data.list,this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})}}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox float-e-margins"},[e("div",{staticClass:"ibox-title",staticStyle:{"align-self":"right"}}),n._v(" "),e("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"bootstrap-table"},[n._m(0),n._v(" "),e("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(1),n._v(" "),e("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(2),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.activityUserDetail,stripe:""}},[e("el-table-column",{attrs:{prop:"storeRecordRealName",label:"用户名字"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(t.row.customer.storeRecordRealName)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"participationTime",label:"参与时间"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.participationTime)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"collectTime",label:"领取时间"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(t.row.collectTime)+"\n                        ")]}}])})],1)],1),n._v(" "),n._m(3),n._v(" "),e("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),e("div",{staticClass:"clearfix"})])])])])])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},s=r;var l=!1;var o=e("VU/8")(a,s,!1,function(n){l||(e("VGLX"),e("Cz55"))},"data-v-6057d602",null);o.options.__file="src\\components\\activity\\activity_user_detail.vue";t.default=o.exports},"46+/":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.Tan .el-dialog {\n  margin-top: 0px;\n  padding-top: 0px;\n  width: 80%;\n  height: 80%;\n}\n","",{version:3,sources:["E:/vueWorkspace/gogirl-web/src/components/activity/src/components/activity/activity_summary.vue"],names:[],mappings:";AAiLA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;CACA",file:"activity_summary.vue",sourcesContent:['<template>\r\n  <div class="row">\r\n    <div class="col-sm-12">\r\n      <div class="ibox float-e-margins">\r\n        <div class="ibox-title" style="text-align: right">\r\n         \x3c!-- --\x3e\r\n          <h5 style="text-align: center; margin: 0px; line-height: 1.5; padding-left: 30px; color: red">活动名称：{{activitySummaryIndex.name}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  \x3c!--领取人数：{{activitySummaryIndex.recipientNumber}}--\x3e</h5>\r\n          \x3c!--<button type="button" class="btn btn-sm btn-success" style="text-align: right" @click="detailDate()">\r\n            用户详情\r\n          </button>--\x3e\r\n        </div>\r\n        <div class="wrapper wrapper-content animated fadeInRight" style="padding: 0px">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n\r\n              <div class="ibox-content">\r\n                <div class="bootstrap-table">\r\n                  <div class="fixed-table-toolbar">\r\n                    <div class="columns columns-right btn-group pull-right">\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div class="fixed-table-container" style="padding-bottom: 0px;">\r\n                    <div class="fixed-table-header" style="display: none;">\r\n                      <table></table>\r\n                    </div>\r\n                    <div class="fixed-table-body" style="width: 100%;height: 100%;overflow: auto">\r\n                      <div class="fixed-table-loading" style="top: 38px; display: none;">\r\n                        <img src="/content/image/loading.gif">\r\n                      </div>\r\n\r\n                      <el-table :data="tableList">\r\n                        <el-table-column :label="head" v-for="(head, key) in header" :key="head">\r\n                          <template slot-scope="scope">\r\n                            {{tableList[scope.$index][\'keyword\'+(key+1)]}}\r\n                          </template>\r\n                        </el-table-column>\r\n                      </el-table>\r\n\r\n                    </div>\r\n                    <div class="fixed-table-footer" style="display: none;">\r\n                      <table>\r\n                        <tbody>\r\n                        <tr></tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <div class="fixed-table-pagination" style="padding-top: 10px" align="center">\r\n\r\n                      <div class="block">\r\n                        <el-pagination\r\n                          @size-change="handleSizeChange"\r\n                          @current-change="handleCurrentChange"\r\n                          :current-page="pageInfo.pageNum"\r\n                          :page-sizes="[6, 12, 18, 24]"\r\n                          :page-size="pageInfo.pageSize"\r\n                          layout="total, sizes, prev, pager, next, jumper"\r\n                          :total="pageInfo.total">\r\n                        </el-pagination>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="clearfix"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \x3c!-- /.page-content --\x3e\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n      name: "activety_summary",\r\n      components: {},\r\n      data: function () {\r\n        return {\r\n          activitySummary: [],\r\n          tableList: [],\r\n          header: [],\r\n          pageInfo: {\r\n            pageNum: 1,\r\n            pageSize: 6,\r\n            startRow: 1,\r\n            endRow: 1,\r\n            total: 1,\r\n            pages: 1,\r\n            prePage: 0,\r\n            nextPage: 2,\r\n            isFirstPage: true,\r\n            isLastPage: true,\r\n            hasPreviousPage: false,\r\n            hasNextPage: true,\r\n            lastPage: 1,\r\n            firstPage: 1\r\n          },\r\n          nodetail: \'\',\r\n          activitySummaryIndex: JSON.parse(this.$route.query.activitySummaryIndex)\r\n\r\n        }\r\n      },\r\n      mounted: function () {\r\n        console.log(this.$route.query.activitySummaryIndex)\r\n        this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n      },\r\n      methods: {\r\n        handleSizeChange(val) {\r\n          this.pageInfo.pageSize = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        handleCurrentChange(val) {\r\n          this.pageInfo.pageNum = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        getAllPurchasingPlan: function (pageNum) {\r\n          // alert();\r\n\r\n          var url = this.$BASE_STORE_URL + \'activitySummary/queryDynamicDetailForPage\'\r\n          var getAllPurchasingPlanAxios = this.$axios.create({})\r\n          getAllPurchasingPlanAxios.get(url, {\r\n            params: {\r\n              activityId: this.activitySummaryIndex.id,\r\n              pageNum: pageNum,\r\n              pageSize: this.pageInfo.pageSize\r\n            }\r\n          })\r\n            .then(function (response) {\r\n              if(response.data.data.list != null) {\r\n                this.tableList = response.data.data.list\r\n              }\r\n              this.pageInfo = response.data.data\r\n            }.bind(this))\r\n            .catch(function (response) {\r\n              alert(\'getAllCompanyAxios ERROE ! \' + response)\r\n            })\r\n\r\n          var url = this.$BASE_STORE_URL + \'activitySummary/queryDynamicHead\'\r\n          var getAllPurchasingPlanAxios = this.$axios.create({})\r\n          getAllPurchasingPlanAxios.get(url, {\r\n            params: {\r\n              activityId: this.activitySummaryIndex.id\r\n            }\r\n          })\r\n            .then(function (response) {\r\n              let headObj = response.data.data\r\n              let lengthHead;\r\n              if(headObj != null) {\r\n                lengthHead = headObj["menuNumber"];\r\n              }else if(headObj == null) {\r\n                lengthHead = 0;\r\n              }\r\n              let headArray = [];\r\n              for(var i = 0; i < lengthHead; i++) {\r\n                headArray[i] = headObj["keyword"+(i+1)];\r\n              }\r\n              this.header = headArray\r\n            }.bind(this))\r\n            .catch(function (response) {\r\n              alert(\'getAllCompanyAxios ERROE ! \' + response)\r\n            })\r\n        },\r\n        detailDate () {\r\n          this.$emit(\'summaryClick\')\r\n        }\r\n      }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n</style>\r\n<style>\r\n\r\n  .Tan .el-dialog {\r\n    margin-top: 0px;\r\n    padding-top: 0px;\r\n    width: 80%;\r\n    height: 80%;\r\n  }\r\n</style>\r\n'],sourceRoot:""}])},"9QJl":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.Tan .el-dialog {\n  margin-top: 0px;\n  padding-top: 0px;\n  width: 80%;\n  height: 80%;\n}\n","",{version:3,sources:["E:/vueWorkspace/gogirl-web/src/components/activity/src/components/activity/activity_user_detail.vue"],names:[],mappings:";AAkLA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;CACA",file:"activity_user_detail.vue",sourcesContent:['<template>\r\n  <div class="row">\r\n    <div class="col-sm-12">\r\n      <div class="ibox float-e-margins">\r\n        <div class="ibox-title" style="align-self: right">\r\n         \x3c!-- <h5>活动名称：{{activityUserDetailIndex.name}}</h5>   领取人数：{{activityUserDetailIndex.recipientNumber}}--\x3e\r\n      \x3c!--    <button type="button" class="btn btn-sm btn-success" style="align-self: right" @click="detailDate()">\r\n            <i class="fa fa-search"></i>&nbsp;用户详情\r\n          </button>--\x3e\r\n        </div>\r\n        <div class="wrapper wrapper-content animated fadeInRight" style="padding: 0px">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n\r\n              <div class="ibox-content">\r\n                <div class="bootstrap-table">\r\n                  <div class="fixed-table-toolbar">\r\n                    <div class="columns columns-right btn-group pull-right">\r\n                      \x3c!--<button class="btn btn-default" type="button" name="refresh" title="刷新" @click="getAllPurchasingPlan(pageInfo.pageNum)">\r\n                        <i class="glyphicon glyphicon-refresh icon-refresh"></i>\r\n                      </button>--\x3e\r\n                    </div>\r\n                  </div>\r\n                  <div class="fixed-table-container" style="padding-bottom: 0px;">\r\n                    <div class="fixed-table-header" style="display: none;">\r\n                      <table></table>\r\n                    </div>\r\n                    <div class="fixed-table-body" style="width: 100%;height: 100%;overflow: auto">\r\n                      <div class="fixed-table-loading" style="top: 38px; display: none;">\r\n                        <img src="/content/image/loading.gif">\r\n                      </div>\r\n\r\n\r\n                      <el-table\r\n                        :data="activityUserDetail"\r\n                        style="width: 100%"\r\n                        stripe\r\n                      >\r\n\r\n                        <el-table-column\r\n                          prop="storeRecordRealName"\r\n                          label="用户名字"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                            {{scope.row.customer.storeRecordRealName}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column\r\n                          prop="participationTime"\r\n                          label="参与时间"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                              {{scope.row.participationTime}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column\r\n                          prop="collectTime"\r\n                          label="领取时间"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                            {{scope.row.collectTime}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                      </el-table>\r\n\r\n                    </div>\r\n                    <div class="fixed-table-footer" style="display: none;">\r\n                      <table>\r\n                        <tbody>\r\n                        <tr></tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <div class="fixed-table-pagination" style="padding-top: 10px" align="center">\r\n\r\n                      <div class="block">\r\n                        <el-pagination\r\n                          @size-change="handleSizeChange"\r\n                          @current-change="handleCurrentChange"\r\n                          :current-page="pageInfo.pageNum"\r\n                          :page-sizes="[6, 12, 18, 24]"\r\n                          :page-size="pageInfo.pageSize"\r\n                          layout="total, sizes, prev, pager, next, jumper"\r\n                          :total="pageInfo.total">\r\n                        </el-pagination>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="clearfix"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \x3c!-- /.page-content --\x3e\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n      name: "activety_summary",\r\n      props: ["activityUserDetailIndex"],\r\n      components: {},\r\n      data: function () {\r\n        return {\r\n          activityUserDetail: [],\r\n          pageInfo: {\r\n            pageNum: 1,\r\n            pageSize: 6,\r\n            startRow: 1,\r\n            endRow: 1,\r\n            total: 1,\r\n            pages: 1,\r\n            prePage: 0,\r\n            nextPage: 2,\r\n            isFirstPage: true,\r\n            isLastPage: true,\r\n            hasPreviousPage: false,\r\n            hasNextPage: true,\r\n            lastPage: 1,\r\n            firstPage: 1\r\n          },\r\n          nodetail: \'\'\r\n        }\r\n      },\r\n      mounted: function () {\r\n        this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n      },\r\n      methods: {\r\n        handleSizeChange(val) {\r\n          this.pageInfo.pageSize = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        handleCurrentChange(val) {\r\n          this.pageInfo.pageNum = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        getAllPurchasingPlan: function (pageNum) {\r\n          var url = this.$BASE_STORE_URL + \'activityCustomer/queryActivityCustomerForPage\'\r\n          var getAllPurchasingPlanAxios = this.$axios.create({})\r\n          getAllPurchasingPlanAxios.get(url, {\r\n            params: {\r\n              pageNum: pageNum,\r\n              pageSize: this.pageInfo.pageSize\r\n            }\r\n          })\r\n            .then(function (response) {\r\n              response.data.data.list.forEach(function(item,index){\r\n                if(item.customer.storeRecordRealName==null || item.customer.storeRecordRealName == \'\'){\r\n                  if(item.customer.realName == null || item.customer.realName == ""){\r\n                    item.customer.storeRecordRealName = item.customer.nickname\r\n                  }else{\r\n                    item.customer.storeRecordRealName = item.customer.realName\r\n                  }\r\n                }\r\n              })\r\n              this.activityUserDetail = response.data.data.list\r\n              this.pageInfo = response.data.data\r\n            }.bind(this))\r\n            .catch(function (response) {\r\n              alert(\'getAllCompanyAxios ERROE ! \' + response)\r\n            })\r\n        }\r\n      }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n</style>\r\n<style>\r\n\r\n  .Tan .el-dialog {\r\n    margin-top: 0px;\r\n    padding-top: 0px;\r\n    width: 80%;\r\n    height: 80%;\r\n  }\r\n</style>\r\n'],sourceRoot:""}])},"BY/H":function(n,t,e){var a=e("TgCI");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("3971d685",a,!1,{})},Cz55:function(n,t,e){var a=e("9QJl");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("e1af553c",a,!1,{})},EinV:function(n,t,e){var a=e("xAzh");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("3b5b4144",a,!1,{})},PICU:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.tan .el-dialog {\n  margin-top: 0px;\n  padding-top: 0px;\n  width: 80%;\n  height: 80%;\n}\nelement.style {\n  margin-top: 0vh\n}\n.Tan .el-dialog {\n  margin-top: 0px;\n  padding-top: 0px;\n  width: 80%;\n  height: 80%;\n}\n.Summ .el-dialog {\n  margin-top: 0px;\n  padding-top: 0px;\n  width: 80%;\n  height: 95%;\n}\n","",{version:3,sources:["E:/vueWorkspace/gogirl-web/src/components/activity/src/components/activity/activity_index.vue"],names:[],mappings:";AAgSA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;CACA;AAEA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;CACA",file:"activity_index.vue",sourcesContent:['<template>\r\n  <div class="row">\r\n    <div class="col-sm-12">\r\n      <div class="ibox float-e-margins">\r\n        <div class="ibox-title">\r\n          <h5>活动管理</h5>\r\n        </div>\r\n        <div class="wrapper wrapper-content animated fadeInRight" style="padding: 0px">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n\r\n              <div class="ibox-content m-b-sm" style="display: block;margin-bottom:10px">\r\n                <form id="toolbar" novalidate="novalidate">\r\n                  <div class="form-inline search-form">\r\n                    <div class="form-group" style="margin-left: 10px">\r\n                      <button type="button" class="btn btn-sm btn-danger" @click="create()">\r\n                        <i class="fa fa-plus"></i>&nbsp;新建活动\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n              <div class="ibox-content">\r\n                <div class="bootstrap-table">\r\n                  <div class="fixed-table-toolbar">\r\n                    <div class="columns columns-right btn-group pull-right">\r\n                      \x3c!--<button class="btn btn-default" type="button" name="refresh" title="刷新" @click="getAllPurchasingPlan(pageInfo.pageNum)">\r\n                        <i class="glyphicon glyphicon-refresh icon-refresh"></i>\r\n                      </button>--\x3e\r\n                    </div>\r\n                  </div>\r\n                  <div class="fixed-table-container" style="padding-bottom: 0px;">\r\n                    <div class="fixed-table-header" style="display: none;">\r\n                      <table></table>\r\n                    </div>\r\n                    <div class="fixed-table-body" style="width: 100%;height: 100%;overflow: auto">\r\n                      <div class="fixed-table-loading" style="top: 38px; display: none;">\r\n                        <img src="/content/image/loading.gif">\r\n                      </div>\r\n\r\n\r\n                      <el-table\r\n                        :data="activity"\r\n                        style="width: 100%"\r\n                        stripe\r\n                      >\r\n                        <el-table-column\r\n                          prop="name"\r\n                          label="活动名称"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                            {{scope.row.name}}\r\n                          </template>\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop="startTime"\r\n                          label="开始时间"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                              {{scope.row.startTime}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column\r\n                          prop="endTime"\r\n                          label="结束时间"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                              {{scope.row.endTime}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column\r\n                          prop="participantsNumber"\r\n                          align="center"\r\n                          label="参与人数"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                            {{scope.row.participantsNumber}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column\r\n                          prop="status"\r\n                          align="center"\r\n                          label="状态"\r\n                        >\r\n                          <template slot-scope="scope" >\r\n                            {{scope.row.status | getStatus(scope.row.status)}}\r\n                          </template>\r\n                        </el-table-column>\r\n\r\n                        <el-table-column label="操作">\r\n                          <template slot-scope="scope">\r\n                            <el-button-group>\r\n                            <el-button type="danger" plain @click="updateDate(scope.row.id)">修改</el-button>\r\n                            <el-button type="primary" plain >\r\n                              <span v-if="scope.row.id == 6">\r\n                                <router-link tag="a" target="_blank" to="/activity/activityuser">详情</router-link>\r\n                              </span>\r\n                              <span v-else>\r\n                                <router-link tag="a" target="_blank" :to="{name:\'activity_summary\',query:{activitySummaryIndex:JSON.stringify({id:scope.row.id, name:scope.row.name, recipientNumber: scope.row.recipientNumber})}}">详情</router-link>\r\n                              </span>\r\n                            </el-button>\r\n                            </el-button-group>\r\n                          </template>\r\n                        </el-table-column>\r\n                      </el-table>\r\n\r\n                    </div>\r\n                    <div class="fixed-table-footer" style="display: none;">\r\n                      <table>\r\n                        <tbody>\r\n                        <tr></tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <div class="fixed-table-pagination" style="padding-top: 10px" align="center">\r\n\r\n                      <div class="block">\r\n                        <el-pagination\r\n                          @size-change="handleSizeChange"\r\n                          @current-change="handleCurrentChange"\r\n                          :current-page="pageInfo.pageNum"\r\n                          :page-sizes="[6, 12, 18, 24]"\r\n                          :page-size="pageInfo.pageSize"\r\n                          layout="total, sizes, prev, pager, next, jumper"\r\n                          :total="pageInfo.total">\r\n                        </el-pagination>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="clearfix"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \x3c!-- /.page-content --\x3e\r\n        </div>\r\n\r\n        <div class="tan" v-dialogDrag>\r\n          <el-dialog title="新增活动" :visible.sync="addVisible" v-if=\'addVisible\' style=" z-index: 10000; width: 100%; height: 90%" center>  \x3c!-- v-if=\'addVisible\'   width="70%"--\x3e\r\n            <activity_new v-on:childClick="childClick" ></activity_new>\r\n          </el-dialog>\r\n        </div>\r\n\r\n        <div class="Tan" v-dialogDrag>\r\n          <el-dialog title="修改活动" :visible.sync="UpDatePic" v-if=\'UpDatePic\' style=" z-index: 10000; width: 100%; height: 90%" center>\r\n            <activity_modify :attr="nodetail" v-on:updateClick="updateClick"></activity_modify>\r\n          </el-dialog>\r\n        </div>\r\n\r\n        <div class="Summ" v-dialogDrag>\r\n          <el-dialog title="活动详情" :visible.sync="summaryDate" v-if=\'summaryDate\' style=" z-index: 10000; width: 100%; height: 90%" center>\r\n            <activity_summary :activitySummaryIndex="activitySummaryIndex" v-on:summaryClick="summaryClick"></activity_summary>\r\n          </el-dialog>\r\n        </div>\r\n\r\n        <div class="Summ" v-dialogDrag>\r\n          <el-dialog title="活动用户详情" :visible.sync="summaryUserDate" v-if=\'summaryUserDate\' style=" z-index: 10000; width: 100%; height: 90%" center>\r\n            <activity_user_detail :activityUserDetail="activityUserDetail"></activity_user_detail>\r\n          </el-dialog>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import activity_modify from \'@/components/activity/activity_modify\'\r\n  import activity_new from \'@/components/activity/activity_new\'\r\n  import activity_summary from \'@/components/activity/activity_summary\'\r\n  import activity_user_detail from \'@/components/activity/activity_user_detail\'\r\n    export default {\r\n      name: "activety_index",\r\n      components: {activity_modify, activity_new, activity_summary, activity_user_detail},\r\n      data: function () {\r\n        return {\r\n          activity: [],\r\n          pageInfo: {\r\n            pageNum: 1,\r\n            pageSize: 6,\r\n            startRow: 1,\r\n            endRow: 1,\r\n            total: 1,\r\n            pages: 1,\r\n            prePage: 0,\r\n            nextPage: 2,\r\n            isFirstPage: true,\r\n            isLastPage: true,\r\n            hasPreviousPage: false,\r\n            hasNextPage: true,\r\n            lastPage: 1,\r\n            firstPage: 1\r\n          },\r\n          activitySummaryIndex: {\r\n            id: \'\',\r\n            name: \'\',\r\n            recipientNumber: \'\'\r\n          },\r\n          activityUserDetail: {\r\n\r\n          },\r\n          //新增\r\n          addVisible: false,\r\n          //修改\r\n          UpDatePic: false,\r\n          summaryDate: false,\r\n          summaryUserDate: false,\r\n          isDoubleClick: false,\r\n          nodetail: \'\'\r\n        }\r\n      },\r\n      filters: {\r\n        getStatus(value) {\r\n          if(value == 1) {\r\n            return "开启"\r\n          }else if(value == 2) {\r\n            return "关闭"\r\n          }\r\n        }\r\n      },\r\n\r\n      mounted: function () {\r\n        this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n      },\r\n      methods: {\r\n        handleSizeChange(val) {\r\n          this.pageInfo.pageSize = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        handleCurrentChange(val) {\r\n          this.pageInfo.pageNum = val\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        getAllPurchasingPlan: function (pageNum) {\r\n          var url = this.$BASE_STORE_URL + \'activity/queryActivityForPage\'\r\n          var getAllPurchasingPlanAxios = this.$axios.create({})\r\n          getAllPurchasingPlanAxios.get(url, {\r\n            params: {\r\n              pageNum: pageNum,\r\n              pageSize: this.pageInfo.pageSize\r\n            }\r\n          })\r\n            .then(function (response) {\r\n              this.activity = response.data.data.list\r\n              this.pageInfo = response.data.data\r\n            }.bind(this))\r\n            .catch(function (response) {\r\n              alert(\'getAllCompanyAxios ERROE ! \' + response)\r\n            })\r\n        },\r\n        create () {\r\n          this.addVisible = true\r\n        },\r\n        //点击令弹框消失\r\n        childClick(data) {\r\n          this.addVisible = false\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        updateDate (date) {\r\n          this.nodetail = date ;\r\n          this.UpDatePic = true\r\n        },\r\n        updateClick(){\r\n          this.UpDatePic = false\r\n          this.getAllPurchasingPlan(this.pageInfo.pageNum)\r\n        },\r\n        detailDate (date) {\r\n          this.activitySummaryIndex.id = date.id\r\n          this.activitySummaryIndex.name = date.name\r\n          this.activitySummaryIndex.recipientNumber = date.recipientNumber\r\n          this.summaryDate = true\r\n        },\r\n        summaryClick(date) {\r\n          this.summaryDate = false\r\n          this.summaryUserDate = true\r\n        }\r\n      }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n</style>\r\n<style>\r\n  .tan .el-dialog {\r\n    margin-top: 0px;\r\n    padding-top: 0px;\r\n    width: 80%;\r\n    height: 80%;\r\n  }\r\n\r\n  element.style {\r\n    margin-top: 0vh\r\n  }\r\n\r\n  .Tan .el-dialog {\r\n    margin-top: 0px;\r\n    padding-top: 0px;\r\n    width: 80%;\r\n    height: 80%;\r\n  }\r\n\r\n  .Summ .el-dialog {\r\n    margin-top: 0px;\r\n    padding-top: 0px;\r\n    width: 80%;\r\n    height: 95%;\r\n  }\r\n</style>\r\n'],sourceRoot:""}])},TgCI:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"activity_index.vue",sourceRoot:""}])},TjdW:function(n,t,e){var a=e("k0Tb");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("4dc7f7e3",a,!1,{})},TvS5:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"activity_modify.vue",sourceRoot:""}])},VGLX:function(n,t,e){var a=e("anVy");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("1dd7ea7c",a,!1,{})},XnO4:function(n,t,e){var a=e("46+/");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("6d7b19be",a,!1,{})},anVy:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"activity_user_detail.vue",sourceRoot:""}])},djH7:function(n,t,e){var a=e("PICU");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("10818e3f",a,!1,{})},k0Tb:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"activity_summary.vue",sourceRoot:""}])},mOjo:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{uploader:e("ofQP").default},name:"storeuser_new",props:["attr"],data:function(){return{stores:[],selectStore:"",activity:{name:"",startTime:"",endTime:"",prize:"",conditionUse:"",status:""},hadSave:!1,rules:{name:[{required:!0,message:"请输入用户名称",trigger:"blur"}],startTime:[{required:!0,message:"请选择 开始时间"}],endTime:[{required:!0,message:"请选择 结束时间"}],prize:[{required:!0,message:"请输入活动奖品",trigger:"blur"}],conditionUse:[{required:!0,message:"请输入使用条件",trigger:"blur"}]}}},mounted:function(){this.getActitivyDetail()},methods:{save:function(){var n=this;this.$refs.activity.validate(function(t){if(!t)return!1;n.hadSave=!0;var e=n.$axios.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=n.$qs.stringify({id:n.attr,name:n.activity.name,startTime:n.activity.startTime,endTime:n.activity.endTime,prize:n.activity.prize,conditionUse:n.activity.conditionUse.join(","),status:n.activity.status});e.post(n.$BASE_STORE_URL+"activity/modifyActivity",a).then(function(n){this.$layer.msg(n.data.message)}.bind(n)),n.$emit("updateClick")})},getUser:function(n){if(5==n)this.activity.conditionUse=["1","2","3","4"];else for(var t=0;t<n.length;t++)if(5==n[t]){n.splice(t,1);break}},getActitivyDetail:function(){this.$axios.create({}).get(this.$BASE_STORE_URL+"activity/queryActivityForDetail",{params:{id:this.attr}}).then(function(n){this.activity.name=n.data.data.name,this.activity.startTime=n.data.data.startTime,this.activity.endTime=n.data.data.endTime,this.activity.prize=n.data.data.prize,this.activity.conditionUse=n.data.data.conditionUse.split(","),this.activity.status=n.data.data.status}.bind(this))}}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{attrs:{id:"updatePi"}},[e("el-form",{ref:"activity",attrs:{model:n.activity,rules:n.rules,"label-width":"100px"}},[e("div",{staticStyle:{"margin-bottom":"5px"}},[e("div",{staticClass:"fixed-table-container bootstrap-table"},[e("table",{staticClass:"table table-hover"},[e("tbody",[e("tr",[e("td",[e("el-form-item",{attrs:{label:"活动名称:",prop:"name"}},[e("span",[e("el-input",{staticStyle:{"max-width":"100%"},attrs:{placeholder:"请输入活动名称",required:""},model:{value:n.activity.name,callback:function(t){n.$set(n.activity,"name",t)},expression:"activity.name"}})],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"活动奖品:",prop:"prize"}},[e("span",[e("el-input",{staticStyle:{"max-width":"100%"},attrs:{placeholder:"请输入 活动奖品"},model:{value:n.activity.prize,callback:function(t){n.$set(n.activity,"prize",t)},expression:"activity.prize"}})],1)])],1)]),n._v(" "),e("tr",[e("td",[e("el-form-item",{attrs:{label:"开始时间:",prop:"startTime"}},[e("span",[e("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始日期时间"},model:{value:n.activity.startTime,callback:function(t){n.$set(n.activity,"startTime",t)},expression:"activity.startTime"}})],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"结束时间:",prop:"endTime"}},[e("span",[e("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束日期时间"},model:{value:n.activity.endTime,callback:function(t){n.$set(n.activity,"endTime",t)},expression:"activity.endTime"}})],1)])],1)]),n._v(" "),e("tr",[e("td",[e("el-form-item",{attrs:{label:"活动对象:",prop:"conditionUse"}},[e("span",[e("el-select",{staticStyle:{"max-width":"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择 活动对象"},on:{change:function(t){n.getUser(n.activity.conditionUse)}},model:{value:n.activity.conditionUse,callback:function(t){n.$set(n.activity,"conditionUse",t)},expression:"activity.conditionUse"}},[e("el-option",{attrs:{label:"所有用户",value:"5"}}),n._v(" "),e("el-option",{attrs:{label:"客户",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"会员",value:"2"}}),n._v(" "),e("el-option",{attrs:{label:"微信用户",value:"3"}}),n._v(" "),e("el-option",{attrs:{label:"公众号粉丝",value:"4"}})],1)],1)])],1),n._v(" "),e("td",[e("el-form-item",{attrs:{label:"活动状态:",prop:"status"}},[e("span",[e("el-select",{staticStyle:{"max-width":"100%"},attrs:{filterable:"",placeholder:"请选择 活动状态"},model:{value:n.activity.status,callback:function(t){n.$set(n.activity,"status",t)},expression:"activity.status"}},[e("el-option",{attrs:{label:"开启",value:"1"}}),n._v(" "),e("el-option",{attrs:{label:"关闭",value:"2"}})],1)],1)])],1)]),n._v(" "),e("tr",[e("td"),e("td"),e("td"),e("td")])])])])])])],1),n._v(" "),e("div",{staticStyle:{margin:"10px auto"}},[e("div",{staticStyle:{margin:"0 auto",width:"20%"}},[e("el-button",{attrs:{type:"primary",plain:"",disabled:n.hadSave},on:{click:n.save}},[n._v("保存")])],1)])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]},s=r;var l=!1;var o=e("VU/8")(a,s,!1,function(n){l||e("yMm1")},"data-v-984206e6",null);o.options.__file="src\\components\\activity\\activity_modify.vue";t.default=o.exports},nZzq:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"activety_summary",components:{},data:function(){return{activitySummary:[],tableList:[],header:[],pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},nodetail:"",activitySummaryIndex:JSON.parse(this.$route.query.activitySummaryIndex)}},mounted:function(){console.log(this.$route.query.activitySummaryIndex),this.getAllPurchasingPlan(this.pageInfo.pageNum)},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},getAllPurchasingPlan:function(n){var t=this.$BASE_STORE_URL+"activitySummary/queryDynamicDetailForPage";this.$axios.create({}).get(t,{params:{activityId:this.activitySummaryIndex.id,pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){null!=n.data.data.list&&(this.tableList=n.data.data.list),this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)});t=this.$BASE_STORE_URL+"activitySummary/queryDynamicHead";this.$axios.create({}).get(t,{params:{activityId:this.activitySummaryIndex.id}}).then(function(n){var t=n.data.data,e=void 0;null!=t?e=t.menuNumber:null==t&&(e=0);for(var a=[],i=0;i<e;i++)a[i]=t["keyword"+(i+1)];this.header=a}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},detailDate:function(){this.$emit("summaryClick")}}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox float-e-margins"},[e("div",{staticClass:"ibox-title",staticStyle:{"text-align":"right"}},[e("h5",{staticStyle:{"text-align":"center",margin:"0px","line-height":"1.5","padding-left":"30px",color:"red"}},[n._v("活动名称："+n._s(n.activitySummaryIndex.name)+"          ")])]),n._v(" "),e("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"bootstrap-table"},[n._m(0),n._v(" "),e("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(1),n._v(" "),e("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(2),n._v(" "),e("el-table",{attrs:{data:n.tableList}},n._l(n.header,function(t,a){return e("el-table-column",{key:t,attrs:{label:t},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(n.tableList[t.$index]["keyword"+(a+1)])+"\n                        ")]}}])})}))],1),n._v(" "),n._m(3),n._v(" "),e("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),e("div",{staticClass:"clearfix"})])])])])])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},s=r;var l=!1;var o=e("VU/8")(a,s,!1,function(n){l||(e("TjdW"),e("XnO4"))},"data-v-76ddbf3a",null);o.options.__file="src\\components\\activity\\activity_summary.vue";t.default=o.exports},uzuj:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("mOjo"),i=e("0+1f"),r=e("nZzq"),s=e("3mzM"),l={name:"activety_index",components:{activity_modify:a.default,activity_new:i.default,activity_summary:r.default,activity_user_detail:s.default},data:function(){return{activity:[],pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},activitySummaryIndex:{id:"",name:"",recipientNumber:""},activityUserDetail:{},addVisible:!1,UpDatePic:!1,summaryDate:!1,summaryUserDate:!1,isDoubleClick:!1,nodetail:""}},filters:{getStatus:function(n){return 1==n?"开启":2==n?"关闭":void 0}},mounted:function(){this.getAllPurchasingPlan(this.pageInfo.pageNum)},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.getAllPurchasingPlan(this.pageInfo.pageNum)},getAllPurchasingPlan:function(n){var t=this.$BASE_STORE_URL+"activity/queryActivityForPage";this.$axios.create({}).get(t,{params:{pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){this.activity=n.data.data.list,this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},create:function(){this.addVisible=!0},childClick:function(n){this.addVisible=!1,this.getAllPurchasingPlan(this.pageInfo.pageNum)},updateDate:function(n){this.nodetail=n,this.UpDatePic=!0},updateClick:function(){this.UpDatePic=!1,this.getAllPurchasingPlan(this.pageInfo.pageNum)},detailDate:function(n){this.activitySummaryIndex.id=n.id,this.activitySummaryIndex.name=n.name,this.activitySummaryIndex.recipientNumber=n.recipientNumber,this.summaryDate=!0},summaryClick:function(n){this.summaryDate=!1,this.summaryUserDate=!0}}},o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox float-e-margins"},[n._m(0),n._v(" "),e("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"ibox-content m-b-sm",staticStyle:{display:"block","margin-bottom":"10px"}},[e("form",{attrs:{id:"toolbar",novalidate:"novalidate"}},[e("div",{staticClass:"form-inline search-form"},[e("div",{staticClass:"form-group",staticStyle:{"margin-left":"10px"}},[e("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){n.create()}}},[e("i",{staticClass:"fa fa-plus"}),n._v(" 新建活动\n                    ")])])])])]),n._v(" "),e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"bootstrap-table"},[n._m(1),n._v(" "),e("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(2),n._v(" "),e("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(3),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.activity,stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"活动名称"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(t.row.name)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"startTime",label:"开始时间"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.startTime)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"endTime",label:"结束时间"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.endTime)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"participantsNumber",align:"center",label:"参与人数"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(t.row.participantsNumber)+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                          "+n._s(n._f("getStatus")(t.row.status,t.row.status))+"\n                        ")]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button-group",[e("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){n.updateDate(t.row.id)}}},[n._v("修改")]),n._v(" "),e("el-button",{attrs:{type:"primary",plain:""}},[6==t.row.id?e("span",[e("router-link",{attrs:{tag:"a",target:"_blank",to:"/activity/activityuser"}},[n._v("详情")])],1):e("span",[e("router-link",{attrs:{tag:"a",target:"_blank",to:{name:"activity_summary",query:{activitySummaryIndex:JSON.stringify({id:t.row.id,name:t.row.name,recipientNumber:t.row.recipientNumber})}}}},[n._v("详情")])],1)])],1)]}}])})],1)],1),n._v(" "),n._m(4),n._v(" "),e("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),e("div",{staticClass:"clearfix"})])])])]),n._v(" "),e("div",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"tan"},[n.addVisible?e("el-dialog",{staticStyle:{"z-index":"10000",width:"100%",height:"90%"},attrs:{title:"新增活动",visible:n.addVisible,center:""},on:{"update:visible":function(t){n.addVisible=t}}},[e("activity_new",{on:{childClick:n.childClick}})],1):n._e()],1),n._v(" "),e("div",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"Tan"},[n.UpDatePic?e("el-dialog",{staticStyle:{"z-index":"10000",width:"100%",height:"90%"},attrs:{title:"修改活动",visible:n.UpDatePic,center:""},on:{"update:visible":function(t){n.UpDatePic=t}}},[e("activity_modify",{attrs:{attr:n.nodetail},on:{updateClick:n.updateClick}})],1):n._e()],1),n._v(" "),e("div",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"Summ"},[n.summaryDate?e("el-dialog",{staticStyle:{"z-index":"10000",width:"100%",height:"90%"},attrs:{title:"活动详情",visible:n.summaryDate,center:""},on:{"update:visible":function(t){n.summaryDate=t}}},[e("activity_summary",{attrs:{activitySummaryIndex:n.activitySummaryIndex},on:{summaryClick:n.summaryClick}})],1):n._e()],1),n._v(" "),e("div",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"Summ"},[n.summaryUserDate?e("el-dialog",{staticStyle:{"z-index":"10000",width:"100%",height:"90%"},attrs:{title:"活动用户详情",visible:n.summaryUserDate,center:""},on:{"update:visible":function(t){n.summaryUserDate=t}}},[e("activity_user_detail",{attrs:{activityUserDetail:n.activityUserDetail}})],1):n._e()],1)])])])};o._withStripped=!0;var c={render:o,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"ibox-title"},[t("h5",[this._v("活动管理")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},d=c;var p=!1;var u=e("VU/8")(l,d,!1,function(n){p||(e("BY/H"),e("djH7"))},"data-v-04d330cf",null);u.options.__file="src\\components\\activity\\activity_index.vue";t.default=u.exports},xAzh:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"activity_new.vue",sourceRoot:""}])},yMm1:function(n,t,e){var a=e("TvS5");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("6a00df28",a,!1,{})}});
//# sourceMappingURL=1.8339e3ba4e7c70c0858d.1565068078403.js.map