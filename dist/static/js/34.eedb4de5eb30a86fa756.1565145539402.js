webpackJsonp([34],{"+4FL":function(n,t,a){(n.exports=a("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"broadcast_index.vue",sourceRoot:""}])},"34b3":function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("IlNm"),a("t+33");var e={name:"broadcast_index",data:function(){return{broadcasts:[],pageInfo:{pageNum:1,pageSize:6,startRow:1,endRow:1,total:1,pages:1,prePage:0,nextPage:2,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,hasNextPage:!0,lastPage:1,firstPage:1},usercode:this.$parent.usercode,nodetail:"",isDoubleClick:!1,titlesearch:""}},mounted:function(){this.getAllPurchasingPlan(this.pageInfo.pageNum)},methods:{handleSizeChange:function(n){this.pageInfo.pageSize=n,this.search(this.pageInfo.pageNum)},handleCurrentChange:function(n){this.pageInfo.pageNum=n,this.search(this.pageInfo.pageNum)},detail:function(n){this.$router.push({name:"broadcast_modify",params:{nodetail:n}}),this.nodetail=n},getAllPurchasingPlan:function(n){var t=this.$BASE_URL+"broadcast/queryBroadcastForPage/";this.$axios.create({}).get(t,{params:{pageNum:n,pageSize:this.pageInfo.pageSize}}).then(function(n){this.broadcasts=n.data.data.list,this.pageInfo=n.data.data}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},topTime:function(n){var t=this.$BASE_URL+"broadcast/topTimeBroadcast/";this.$axios.create({}).get(t,{params:{id:n}}).then(function(n){this.$layer.msg(n.data.message),this.getAllPurchasingPlan(this.pageInfo.pageNum)}.bind(this)).catch(function(n){alert("getAllCompanyAxios ERROE ! "+n)})},create:function(){this.$router.push({path:"/broadcast/add"})},search:function(n){this.titlesearch=this.titlesearch.replace(/(^\s*)|(\s*$)/g,""),""===this.titlesearch?this.getAllPurchasingPlan(n):this.doSearch(n)},doSearch:function(n){var t=this.$axios.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=this.$qs.stringify({title:this.titlesearch,pageNum:n,pageSize:6});t.post(this.$BASE_URL+"broadcast/queryBroadcastForPage/",a).then(function(n){this.broadcasts=n.data.data.broadcast,this.pageInfo=n.data.data}.bind(this))},deleteBroadcast:function(n){var t=this;this.$confirm("此操作将永久删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.create({}).get(t.$BASE_URL+"broadcast/deleteBroadcast",{params:{id:n}}).then(function(n){1==n.data.success&&(this.getAllPurchasingPlan(this.pageInfo.pageNum),this.$message({type:"success",message:"删除成功!"}))}.bind(t))}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},s=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"ibox float-e-margins"},[n._m(0),n._v(" "),a("div",{staticClass:"wrapper wrapper-content animated fadeInRight",staticStyle:{padding:"0px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"ibox-content m-b-sm",staticStyle:{display:"block","margin-bottom":"10px"}},[a("form",{attrs:{id:"toolbar",novalidate:"novalidate"}},[a("div",{staticClass:"form-inline search-form"},[a("div",{staticClass:"form-group",staticStyle:{"margin-left":"10px"}},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:n.create}},[a("i",{staticClass:"fa fa-plus"}),n._v(" 新增轮播图\n                    ")])])])])]),n._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"bootstrap-table"},[n._m(1),n._v(" "),a("div",{staticClass:"fixed-table-container",staticStyle:{"padding-bottom":"0px"}},[n._m(2),n._v(" "),a("div",{staticClass:"fixed-table-body",staticStyle:{width:"100%",height:"100%",overflow:"auto"}},[n._m(3),n._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:n.broadcasts,stripe:""}},[a("el-table-column",{attrs:{prop:"picturePath",label:"图片"},scopedSlots:n._u([{key:"default",fn:function(t){return n._l(t.row.picturePath.split(","),function(e){return a("div",{on:{click:function(a){n.detail(t.row.id)}}},[a("img",{staticStyle:{height:"35px",width:"35px"},attrs:{src:n.$BASE_PICTUREPATH_URL+e}})])})}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.title)+"\n                        ")]}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"url",label:"链接地址",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.url)+"\n                        ")]}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n                            "+n._s(t.row.remark)+"\n                        ")]}}])}),n._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){n.topTime(t.row.id)}}},[n._v("置顶")]),n._v(" "),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(a){n.detail(t.row.id)}}},[n._v("修改")]),n._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){n.deleteBroadcast(t.row.id)}}},[n._v("删除")])],1)]}}])})],1)],1),n._v(" "),n._m(4),n._v(" "),a("div",{staticClass:"fixed-table-pagination",staticStyle:{"padding-top":"10px"},attrs:{align:"center"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":n.pageInfo.pageNum,"page-sizes":[6,12,18,24],"page-size":n.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.pageInfo.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])])]),n._v(" "),a("div",{staticClass:"clearfix"})])])])])])])])};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"ibox-title"},[t("h5",[this._v("轮播图管理")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-toolbar"},[t("div",{staticClass:"columns columns-right btn-group pull-right"})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-header",staticStyle:{display:"none"}},[t("table")])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-loading",staticStyle:{top:"38px",display:"none"}},[t("img",{attrs:{src:"/content/image/loading.gif"}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"fixed-table-footer",staticStyle:{display:"none"}},[t("table",[t("tbody",[t("tr")])])])}]},o=i;var r=!1;var l=a("VU/8")(e,o,!1,function(n){r||a("EttE")},"data-v-67539079",null);l.options.__file="src\\components\\broadcast\\broadcast_index.vue";t.default=l.exports},EttE:function(n,t,a){var e=a("+4FL");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("rjj0")("49b55a10",e,!1,{})}});
//# sourceMappingURL=34.eedb4de5eb30a86fa756.1565145539402.js.map